# Configuración de PostgreSQL para acceso remoto (VERSION ESPAÑOL)
# postgresql.conf con locales en español

# Configuración de conexiones
listen_addresses = '*'                  # Escuchar en todas las interfaces
port = 5432                            # Puerto estándar de PostgreSQL
max_connections = 100                   # Máximo número de conexiones simultáneas

# Configuración de memoria
shared_buffers = 128MB                  # Memoria compartida para buffers
effective_cache_size = 4GB              # Estimación de memoria disponible para cache
work_mem = 4MB                         # Memoria para operaciones de ordenamiento
maintenance_work_mem = 64MB            # Memoria para operaciones de mantenimiento

# Configuración de logs
log_destination = 'stderr'              # Destino de los logs
logging_collector = on                  # Activar recolector de logs
log_directory = 'log'                   # Directorio de logs
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'  # Formato del nombre de archivo
log_rotation_age = 1d                   # Rotar logs diariamente
log_rotation_size = 10MB                # Rotar logs por tamaño
log_line_prefix = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '
log_statement = 'all'                   # Registrar todas las consultas (cambiar a 'none' en producción)

# Configuración de autenticación y seguridad
password_encryption = scram-sha-256     # Encriptación moderna de contraseñas
ssl = off                              # SSL deshabilitado (habilitar en producción)

# Configuración de checkpoint y WAL
checkpoint_completion_target = 0.9      # Optimización de checkpoints
wal_buffers = 16MB                     # Buffers de WAL
checkpoint_timeout = 5min              # Timeout de checkpoint

# Configuración de consultas
default_statistics_target = 100        # Estadísticas por defecto
random_page_cost = 1.1                 # Costo de páginas aleatorias (SSD)
effective_io_concurrency = 200         # Concurrencia de I/O (SSD)

# Configuración de zona horaria (ESPAÑOL)
timezone = 'America/Mexico_City'        # Zona horaria de México
log_timezone = 'America/Mexico_City'

# Configuración de locale (ESPAÑOL - requiere Dockerfile.spanish)
lc_messages = 'es_ES.UTF-8'            # Mensajes en español
lc_monetary = 'es_ES.UTF-8'            # Formato monetario
lc_numeric = 'es_ES.UTF-8'             # Formato numérico
lc_time = 'es_ES.UTF-8'                # Formato de tiempo

# Configuración de cliente por defecto
default_text_search_config = 'pg_catalog.spanish'  # Búsqueda de texto en español