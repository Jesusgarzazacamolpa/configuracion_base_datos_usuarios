# Configuración de autenticación para PostgreSQL
# pg_hba.conf (PostgreSQL Host-Based Authentication)

# Tipo de conexión | Base de datos | Usuario | Dirección | Método de autenticación

# Conexiones locales (dentro del contenedor)
local   all             postgres                                peer
local   all             all                                     md5

# Conexiones IPv4 locales
host    all             postgres        127.0.0.1/32           trust
host    all             postgres        ::1/128                trust

# Permitir conexiones desde cualquier IP (para acceso remoto)
# ADVERTENCIA: En producción, restringe las IPs específicas
host    all             all             0.0.0.0/0              md5
host    all             all             ::/0                   md5

# Conexiones específicas para usuarios
host    mi_base_datos   mi_usuario      0.0.0.0/0              md5
host    mi_base_datos   usuario_remoto  0.0.0.0/0              md5

# Conexiones SSL (descomenta si habilitas SSL)
# hostssl all            all             0.0.0.0/0              md5
# hostssl all            all             ::/0                   md5

# Replicación (si es necesaria)
# host    replication    all             0.0.0.0/0              md5

# Explicación de los métodos de autenticación:
# - trust: Sin contraseña (solo para desarrollo)
# - md5: Contraseña con hash MD5
# - scram-sha-256: Contraseña con hash SCRAM-SHA-256 (más seguro)
# - peer: Solo para conexiones locales Unix socket
# - ident: Autenticación basada en usuario del sistema